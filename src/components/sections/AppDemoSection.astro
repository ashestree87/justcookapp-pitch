---
import PitchSlide from "../PitchSlide.astro";
---

<PitchSlide
	id="app-demo"
	title="See It In Action"
	subtitle="Experience the JustCook.app interface"
>
	<div class="app-demo-container">
		<div class="app-screens">
			<div class="phone-mockup">
				<div class="phone-screen">
					<div class="app-screen active" id="screen1">
						<img src="/images/browse.png" alt="Browse Screen" />
					</div>
					<div class="app-screen" id="screen2">
						<img src="/images/parm.jpg" alt="Recipe Screen" />
					</div>
					<div class="app-screen" id="screen3">
						<img src="/images/payment.jpg" alt="Order Screen" />
					</div>
				</div>
			</div>
		</div>

		<div class="app-demo-controls">
			<button class="demo-btn active" data-screen="screen1"
				>Browse</button
			>
			<button class="demo-btn" data-screen="screen2">Recipe</button>
			<button class="demo-btn" data-screen="screen3">Order</button>
		</div>
	</div>
</PitchSlide>

<style>
	/* App Demo Section */
	.app-demo-container {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 2rem;
	}

	.phone-mockup {
		width: 340px;
		height: 700px;
		background-color: #111;
		border-radius: 40px;
		padding: 10px;
		box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
		position: relative;
	}

	.phone-screen {
		width: 320px;
		height: 680px;
		background-color: white;
		border-radius: 30px;
		overflow: hidden;
		position: relative;
	}

	.app-screen {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
		opacity: 0;
		transition: opacity 0.5s ease;
		display: flex;
		flex-direction: column;
	}

	.app-screen.active {
		opacity: 1;
		z-index: 1;
	}

	.app-screen img {
		width: 100%;
		height: calc(100%);
		object-fit: cover;
	}

	.app-demo-controls {
		display: flex;
		gap: 1rem;
	}

	.demo-btn {
		padding: 0.75rem 1.5rem;
		background-color: var(--bg-card);
		border: 2px solid var(--color-primary);
		border-radius: 8px;
		font-weight: 600;
		cursor: pointer;
		transition: all 0.3s ease;
	}

	.demo-btn.active {
		background-color: var(--color-primary);
		color: white;
	}

	.demo-btn:hover:not(.active) {
		background-color: rgba(255, 107, 53, 0.1);
	}
</style>

<script>
	// App Demo Screen Switcher
	document.addEventListener("DOMContentLoaded", () => {
		const demoBtns = document.querySelectorAll(".demo-btn");

		demoBtns.forEach((btn) => {
			btn.addEventListener("click", () => {
				// Remove active class from all buttons and screens
				document
					.querySelectorAll(".demo-btn")
					.forEach((b) => b.classList.remove("active"));
				document
					.querySelectorAll(".app-screen")
					.forEach((s) => s.classList.remove("active"));

				// Add active class to clicked button and corresponding screen
				btn.classList.add("active");
				const screenId = btn.getAttribute("data-screen") || "";
				const screenElement = document.getElementById(screenId);
				if (screenElement) {
					screenElement.classList.add("active");
				}
			});
		});
	});
</script> 